<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Curso - Javascript</title>
    <script>
      function contar(n) {
        let cont = 0
        for (i = 0; i < n; i++) cont++
        console.log('Contar: ' + cont)
      }

      function contarT(n) {
        //Função assíncrona, não espera os 2s para executar
        let cont = 0
        let t = setTimeout(() => {
          for (i = 0; i < n; i++) cont++
        })
        console.log('ContarT: ' + cont)
      }

      function contarP(n) {
        let cont = 0
        let p = new Promise((resolve, rejected) => {
          for (i = 0; i < n; i++) cont++

          if (cont == n) resolve(cont)
          else rejected('Erro')
        })
        return p
      }

      async function contarPA(n) {
        const r = await contarP(n)
        console.log('ContarPA: ' + r)
      }

      function contarPT(n) {
        //Função síncrona, mostra resultado após 2s
        let cont = 0
        let p = new Promise((resolve, rejected) => {
          let t = setTimeout(() => {
            for (i = 0; i < n; i++) cont++

            if (cont == n) resolve(cont)
            else rejected('Erro')
          }, 2000)
        })
        return p
      }

      async function contarPTA(n) {
        const r = await contarPT(n)
        console.log('ContarPTA: ' + r)
      }

      contar(100)
      contarT(10)
      contarPA(10)
      contarPTA(10)

      // contarP(10)
      //   .then(sucesso => console.log('ContarP: ' + sucesso))
      //   .catch(erro => console.log(erro))

      // contarPT(10)
      //   .then(sucesso => console.log('ContarPT: ' + sucesso))
      //   .catch(erro => console.log(erro))
    </script>
  </head>
  <body></body>
</html>
