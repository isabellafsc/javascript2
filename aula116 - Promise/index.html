<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Curso - Javascript</title>
    <script>
      function contar(n) {
        let cont = 0
        for (i = 0; i < n; i++) cont++
        return cont
      }

      function contarT(n) {
        //Função assíncrona, não espera os 2s para executar
        let cont = 0
        let t = setTimeout(() => {
          for (i = 0; i < n; i++) cont++
        })
        return cont
      }

      function contarP(n) {
        let cont = 0
        let p = new Promise((resolve, rejected) => {
          for (i = 0; i < n; i++) cont++

          if (cont == n) resolve(cont)
          else rejected('Erro')
        })
        return p
      }

      function contarPT(n) {
        //Função síncrona, mostra resultado após 2s
        let cont = 0
        let p = new Promise((resolve, rejected) => {
          let t = setTimeout(() => {
            for (i = 0; i < n; i++) cont++

            if (cont == n) resolve(cont)
            else rejected('Erro')
          }, 2000)
        })
        return p
      }

      console.log('Contar: ' + contar(100))
      console.log('ContarT: ' + contarT(10))

      contarP(10)
        .then(sucesso => {
          console.log('ContarP: ' + sucesso)
          console.log('')
        })
        .catch(erro => {
          console.log(erro)
          console.log('')
        })

        contarPT(10)
        .then(sucesso => {
          console.log('ContarPT: ' + sucesso)
          console.log('')
        })
        .catch(erro => {
          console.log(erro)
          console.log('')
        })

      // ----------------------------------------------------------
      
      function somaPositivos(n1, n2) {
        let p = new Promise((res, rej) => {
          if (n1 >= 0 && n2 >= 0) res(n1 + n2)
          else rej('ERRO!!!')
        })
        return p
      }
      somaPositivos(10, 2)
        .then(sucesso => {
          console.log('Soma: ' + sucesso)
        })
        .catch(erro => {
          console.log(erro)
        })

      somaPositivos(-10, 2) //Número negativo da erro
        .then(sucesso => {
          console.log('Soma: ' + sucesso)
          console.log('')
        })
        .catch(erro => {
          console.log(erro)
          console.log('')
        })

      // ----------------------------------------------------------

      
    </script>
  </head>
  <body></body>
</html>
